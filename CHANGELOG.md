* Avoid creating an error object for the stack if `Error.captureStackTrace` is available and a string message is passed.
* Switch to typescript for the main code
* Fix running tests
